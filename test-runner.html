<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testes - Calculadora Eco Trip</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .test-suite { margin: 20px 0; padding: 15px; border: 1px solid #ddd; }
    .test-pass { color: #16b78a; }
    .test-fail { color: #ef4444; }
    .test-pending { color: #f59e0b; }
    pre { background: #f5f5f5; padding: 10px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>ğŸ§ª Testes - Calculadora Eco Trip</h1>
  
  <div class="test-suite">
    <h2>ğŸ“Š Resumo dos Testes</h2>
    <ul>
      <li><strong>calculator.test.js</strong> - Testes unitÃ¡rios dos cÃ¡lculos de COâ‚‚</li>
      <li><strong>distance-api.test.js</strong> - Testes da integraÃ§Ã£o Google Maps</li>
      <li><strong>ui.test.js</strong> - Testes da interface do usuÃ¡rio</li>
      <li><strong>integration.test.js</strong> - Testes de fluxo completo</li>
      <li><strong>api-fallback.test.js</strong> - Testes de cenÃ¡rios de erro</li>
    </ul>
  </div>

  <div class="test-suite">
    <h2>ğŸš€ Como Executar</h2>
    
    <h3>OpÃ§Ã£o 1: Jest (Recomendado)</h3>
    <pre><code># Instalar dependÃªncias
npm install --save-dev jest @jest/globals

# Executar todos os testes
npm test

# Executar com coverage
npm test -- --coverage

# Executar testes especÃ­ficos
npm test calculator.test.js</code></pre>

    <h3>OpÃ§Ã£o 2: Navegador (Desenvolvimento)</h3>
    <pre><code># Incluir scripts no HTML
&lt;script src="js/config.js">&lt;/script>
&lt;script src="js/calculator.js">&lt;/script>
&lt;script src="js/distance-api.js">&lt;/script>
&lt;script src="js/ui.js">&lt;/script>

# Executar testes manualmente
console.log(calculator.calculateEmission(100, 'car')); // 12</code></pre>
  </div>

  <div class="test-suite">
    <h2>ğŸ“‹ Casos de Teste Cobertos</h2>
    
    <h3>âœ… CÃ¡lculos de EmissÃµes</h3>
    <ul>
      <li>EmissÃµes por tipo de transporte</li>
      <li>CÃ¡lculos de economia vs carro</li>
      <li>CrÃ©ditos de carbono e custos</li>
      <li>Percentuais relativos</li>
    </ul>

    <h3>âœ… IntegraÃ§Ã£o Google Maps</h3>
    <ul>
      <li>Chamadas bem-sucedidas da API</li>
      <li>Tratamento de erros (REQUEST_DENIED, ZERO_RESULTS)</li>
      <li>Fallback Haversine</li>
      <li>Timeouts e problemas de rede</li>
    </ul>

    <h3>âœ… Interface do UsuÃ¡rio</h3>
    <ul>
      <li>SeleÃ§Ã£o de transportes</li>
      <li>Entrada manual vs automÃ¡tica</li>
      <li>AtualizaÃ§Ã£o de resultados</li>
      <li>Feedback visual (loader, cores)</li>
    </ul>

    <h3>âœ… Fluxos de IntegraÃ§Ã£o</h3>
    <ul>
      <li>Rota SÃ£o Paulo â†’ Rio de Janeiro</li>
      <li>MudanÃ§a entre transportes</li>
      <li>Diferentes distÃ¢ncias</li>
      <li>ValidaÃ§Ãµes e tratamento de erros</li>
    </ul>

    <h3>âœ… CenÃ¡rios de Fallback</h3>
    <ul>
      <li>API Google Maps indisponÃ­vel</li>
      <li>Erros de API Key e referrer</li>
      <li>AtivaÃ§Ã£o automÃ¡tica do modo manual</li>
      <li>RecuperaÃ§Ã£o e retry</li>
    </ul>
  </div>

  <div class="test-suite">
    <h2>ğŸ“Š Cobertura Esperada</h2>
    <ul>
      <li><strong>calculator.js</strong>: 100% (funÃ§Ãµes puras)</li>
      <li><strong>distance-api.js</strong>: 90% (mocks da API)</li>
      <li><strong>ui.js</strong>: 85% (manipulaÃ§Ã£o DOM)</li>
      <li><strong>app.js</strong>: 70% (event listeners)</li>
      <li><strong>config.js</strong>: 100% (constantes)</li>
    </ul>
  </div>

  <div class="test-suite">
    <h2>ğŸ”§ ConfiguraÃ§Ã£o package.json</h2>
    <pre><code>{
  "name": "calculadora-eco-trip",
  "version": "1.0.0",
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  },
  "devDependencies": {
    "jest": "^29.0.0",
    "@jest/globals": "^29.0.0"
  },
  "jest": {
    "testEnvironment": "jsdom",
    "setupFilesAfterEnv": ["&lt;rootDir>/test-setup.js"]
  }
}</code></pre>
  </div>

  <script>
    // Testes bÃ¡sicos inline para demonstraÃ§Ã£o
    console.log('ğŸ§ª Executando testes bÃ¡sicos...');
    
    // Teste simples do calculator (se disponÃ­vel)
    if (typeof calculator !== 'undefined') {
      const testResult = calculator.calculateEmission(100, 'car');
      console.log(testResult === 12 ? 'âœ… Calculator test passed' : 'âŒ Calculator test failed');
    }
    
    // Teste simples do config (se disponÃ­vel)
    if (typeof config !== 'undefined') {
      const hasEmissions = config.co2Emissions && config.co2Emissions.car === 0.12;
      console.log(hasEmissions ? 'âœ… Config test passed' : 'âŒ Config test failed');
    }
    
    console.log('ğŸ“‹ Para testes completos, use Jest: npm test');
  </script>
</body>
</html>